import { CheckCircle, Check, ChevronDown, ChevronUp } from "lucide-react";
import { useState } from "react";
import HowItWorks from "../../Components/HowItWorks";

export default function PentestingPricing() {
  const [showAllFeatures, setShowAllFeatures] = useState(false);

  const plans = ["Essential", "Business", "Enterprise", "Custom"];

  const allRows = [
    { feature: "Number of Assets", values: ["3", "5", "10", "10+"] },
    {
      feature: "Scope",
      values: [
        "Web",
        "Web, API",
        "Web, API, Server, Cloud",
        "Web, API, Server, iOS, Android, Cloud",
      ],
    },
    {
      feature: "Scan Frequency",
      values: ["Monthly", "Weekly", "Continuous", "Continuous"],
    },
    {
      feature: "Alerts",
      values: ["Email", "Email", "Email / SMS", "Email / SMS / Messengers"],
    },
    {
      feature: "PenTest Reports",
      values: ["Basic Report", "Advanced Report", "Advanced Report", "Custom"],
    },
    {
      feature: "Manual Testing",
      values: ["Limited", "✓", "2+ Certified Pentesters", "Custom"],
    },
    { feature: "Mobile Apps", values: ["—", "✓", "✓", "✓"] },
    { feature: "Access Seats", values: ["1", "5", "20", "Custom"] },
    { feature: "Malware Check", values: ["✓", "✓", "✓", "✓"] },
    { feature: "Vulnerability Scan", values: ["✓", "✓", "✓", "✓"] },
    { feature: "DMARC Monitoring", values: ["Basic", "Basic", "✓", "✓"] },
    { feature: "SSL Monitoring", values: ["✓", "✓", "✓", "✓"] },
    { feature: "Smart Recon", values: ["—", "✓", "✓", "✓"] },
    { feature: "Blacklist Monitoring", values: ["Basic", "Basic", "✓", "✓"] },
    { feature: "Uptime Monitoring", values: ["✓", "✓", "✓", "✓"] },
    { feature: "GDPR Compliance", values: ["—", "✓", "✓", "✓"] },
    { feature: "Remediation Suggestions", values: ["—", "✓", "✓", "✓"] },
    {
      feature: "Security Standards",
      values: [
        "OWASP, SANS, PCI-DSS, ISO27001, NIS2, SOC2",
        "OWASP, SANS, PCI-DSS, ISO27001, NIS2, SOC2",
        "OWASP, SANS, PCI-DSS, ISO27001, NIS2, SOC2",
        "OWASP, SANS, PCI-DSS, ISO27001, NIS2, SOC2",
      ],
    },
  ];

  // Show only the first 8 rows when "show less" is active
  const displayedRows = showAllFeatures ? allRows : allRows.slice(0, 8);

  const toggleFeatures = () => {
    setShowAllFeatures(!showAllFeatures);
  };

  return (
    <div>
      {/* Pricing Section */}
      <section className="bg-black py-24 px-6 text-white">
        <div className="max-w-7xl mx-auto text-center mb-20">
          <h2 className="text-4xl md:text-5xl font-bold text-red-500 mb-6">
            <span className="text-white">Get Pentesting</span> Reports for
          </h2>
          <p className="text-gray-400 text-lg">
            NIS2, GDPR, PCI DSS, ISO 27001, and more
          </p>
        </div>

        <div className="max-w-7xl mx-auto grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
          {/* ESSENTIAL */}
          <div className="bg-[#0b0b0b] border border-red-500/10 rounded-2xl p-10 shadow-xl">
            <h3 className="text-2xl font-semibold mb-2">Essential</h3>
            <p className="text-5xl font-bold text-red-500 mb-1">€190</p>
            <span className="text-gray-400">/month</span>

            <p className="text-gray-400 mt-6 mb-8">
              For small businesses starting their security journey
            </p>

            <ul className="space-y-4 mb-10">
              {[
                "3+ Monitored Assets",
                "Basic PenTesting Report",
                "Limited Manual Testing",
                "Vulnerability Scan",
                "SSL Report",
              ].map((item, i) => (
                <li key={i} className="flex gap-3">
                  <CheckCircle className="text-red-500 w-5 h-5 mt-1" />
                  <span className="text-gray-300">{item}</span>
                </li>
              ))}
            </ul>

            <button className="w-full py-3 rounded-lg border border-red-500 text-red-500 hover:bg-red-500 hover:text-black transition">
              Contact Us
            </button>
          </div>

          {/* BUSINESS – MOST POPULAR */}
          <div className="bg-[#0b0b0b] border-2 border-red-500 rounded-2xl p-10 shadow-2xl relative scale-105">
            <span className="absolute -top-4 left-1/2 -translate-x-1/2 bg-red-500 text-black px-4 py-1 text-sm rounded-full font-semibold">
              Most Popular
            </span>

            <h3 className="text-2xl font-semibold mb-2">Business</h3>
            <p className="text-5xl font-bold text-red-500 mb-1">€390</p>
            <span className="text-gray-400">/month</span>

            <p className="text-gray-400 mt-6 mb-8">
              For growing companies requiring thorough security
            </p>

            <ul className="space-y-4 mb-10">
              {[
                "5+ Monitored Assets",
                "Mobile Apps Testing",
                "Advanced PenTesting Report",
                "Manual Testing",
                "Dedicated Account Manager",
              ].map((item, i) => (
                <li key={i} className="flex gap-3">
                  <CheckCircle className="text-red-500 w-5 h-5 mt-1" />
                  <span className="text-gray-300">{item}</span>
                </li>
              ))}
            </ul>

            <button className="w-full py-3 rounded-lg bg-red-500 text-black font-semibold hover:bg-red-600 transition">
              Contact Us
            </button>
          </div>

          {/* ENTERPRISE */}
          <div className="bg-[#0b0b0b] border border-red-500/10 rounded-2xl p-10 shadow-xl">
            <h3 className="text-2xl font-semibold mb-2">Enterprise</h3>
            <p className="text-5xl font-bold text-red-500 mb-1">€1,900</p>
            <span className="text-gray-400">/month</span>

            <p className="text-gray-400 mt-6 mb-8">
              For organizations needing comprehensive security
            </p>

            <ul className="space-y-4 mb-10">
              {[
                "10+ Monitored Assets",
                "Advanced PenTesting Report",
                "At least 2 Certified Pentesters",
                "20 Platform Access Seats",
                "Multiple Languages & MFA",
              ].map((item, i) => (
                <li key={i} className="flex gap-3">
                  <CheckCircle className="text-red-500 w-5 h-5 mt-1" />
                  <span className="text-gray-300">{item}</span>
                </li>
              ))}
            </ul>

            <button className="w-full py-3 rounded-lg border border-red-500 text-red-500 hover:bg-red-500 hover:text-black transition">
              Contact Us
            </button>
          </div>
        </div>

        {/* CUSTOM SOLUTION */}
        <div className="max-w-4xl mx-auto text-center mt-24">
          <h3 className="text-3xl font-bold text-red-500 mb-4">
            Need a Custom Security Solution?
          </h3>
          <p className="text-gray-400 mb-8">
            For advanced security needs, compliance requirements, and
            enterprise-scale infrastructure beyond standard packages.
          </p>

          <button className="px-8 py-4 rounded-lg border border-red-500 text-red-500 hover:bg-red-500 hover:text-black transition font-semibold">
            Contact us for a consultation
          </button>
        </div>
      </section>

      {/* Feature Comparison Section */}
      <section className="bg-zinc-950 py-20">
        <div className="max-w-7xl mx-auto px-6">
          {/* Title */}
          <h2 className="text-4xl font-bold text-red-500 mb-12">
            Detailed Feature Comparison
          </h2>

          {/* Table */}
          <div className="w-full overflow-x-auto bg-zinc-900 p-6 rounded-2xl shadow-lg">
            <table className="w-full border-collapse">
              <thead>
                <tr className="bg-red-600 text-white">
                  <th className="p-5 text-left rounded-tl-xl">Feature</th>
                  {plans.map((plan) => (
                    <th key={plan} className="p-5 text-center font-semibold">
                      {plan}
                    </th>
                  ))}
                </tr>
              </thead>

              <tbody>
                {displayedRows.map((row, i) => (
                  <tr
                    key={i}
                    className={i % 2 === 0 ? "bg-zinc-800" : "bg-zinc-900"}
                  >
                    <td className="p-5 font-medium text-gray-300">
                      {row.feature}
                    </td>

                    {row.values.map((val, idx) => (
                      <td key={idx} className="p-5 text-center">
                        {val === "✓" ? (
                          <Check className="inline w-5 h-5 text-red-500" />
                        ) : (
                          <span className="text-sm text-gray-300">{val}</span>
                        )}
                      </td>
                    ))}
                  </tr>
                ))}
              </tbody>
            </table>
          </div>

          {/* Toggle Button */}
          <div className="flex justify-center mt-12">
            <button
              onClick={toggleFeatures}
              className="px-8 py-3 rounded-full bg-red-600 text-white font-semibold shadow hover:bg-red-700 transition flex items-center gap-2"
            >
              {showAllFeatures ? (
                <>
                  Show Less
                  <ChevronUp size={18} />
                </>
              ) : (
                <>
                  Show More
                  <ChevronDown size={18} />
                </>
              )}
            </button>
          </div>

          
        </div>
      </section>
      <HowItWorks />
    </div>
  );
}
